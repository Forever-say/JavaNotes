### 多态性

多态性：Polymorphism

1.  可以理想为一个事物的多种形态。

2. 对象的多态性：父类的引用指向子类的对象，(子类的对象赋值给父类的引用)。

3. 多态的使用：当调用子夫类同名同参数的方法时，实际执行的是子类重写父类的方法。

   

4. 多态的使用：虚拟方法调用。

   有了对象的多态性以后，在编译期，只能调用父类中声明的方法。

   ​											在运行期，实际执行的是子类重写父类的方法。

   总结：编译看左边，运行看右边。

5. 多态性的使用前提：1.类的继承关系 2.要有方法的重写

   

#### 多态性的意义

1.实现代码通用性。

方法传入父类的引用数据形参时，实参可以是子类。

这样只能调用父类有的方法()，不同子类可以进行不同的重写，不用再创建新的方法。

例如：父类方法连接数据库， 子类是不同的数据库类型，重写了父类的方法

这样传入不同的子类实参，用父类的形参接收，只要功能的实现相同，方法体是相同的。

2.抽象类、接口的使用肯定体现多态性。(抽象类、接口不能实例化)

#### 注意

多态性只适应于方法，不适应于属性(编译和运行都看左边)。

多态是运行时行为。

### 转型

向上转型

体现为多态



向下转型

使用强制类型转换符，让父类转型为子类调用子类特有的方法和属性。

使用强转时，可能出现 ClassCastException 的异常。



#### instanceof:

a instanceof A : 判断对象a是否是类A的实例。如果是，返回true

**判断前面的对象是否属于后面的类，或者属于其子类；**



为了避免在向下转型时出现异常，在向下转型之前，进行判断，一旦返回true，进行向下转型。如果不是，就不进行转型。



如果 a instanceof A 返回true，则a instanceof B 也返回true。

其中，类B是类A的父类。

